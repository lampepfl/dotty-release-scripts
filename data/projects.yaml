scala3-example-project:
  upstream: https://github.com/scala/scala3-example-project
  test_spec:
    command: sbt run
  update_spec:
    - file: README.md
      pattern: scalaVersion\s*:=\s*".*"
      replacement: scalaVersion := "{release_version}"
    - file: build.sbt
      pattern: scalaVersion\s*:=\s*".*"
      replacement: scalaVersion := "{release_version}"
  commit_directly: True

scala3-cross.g8:
  upstream: https://github.com/scala/scala3-cross.g8
  test_spec:
    run_from_root: True
    command: >
      rm -rf foo ;
      sbt new file://./scala3-cross.g8 --name=foo --description=bar &&
      cd foo &&
      sbt run
  update_spec:
    - file: src/main/g8/build.sbt
      pattern: scala3Version\s*=\s*".*"
      replacement: scala3Version = "{release_version}"
  commit_directly: True
